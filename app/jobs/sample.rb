current_valuation = 0

per_capita_gdp = [
  {x:1963, y: 2367},
  {x:1964, y: 2571},
  {x:1965, y: 2849},
  {x:1966, y: 3110},
  {x:1967, y: 3307},
  {x:1968, y: 3722},
  {x:1969, y: 4262},
  {x:1970, y: 4813},
  {x:1971, y: 5188},
  {x:1972, y: 5624},
  {x:1973, y: 6353},
  {x:1974, y: 7143},
  {x:1975, y: 8173},
  {x:1976, y: 8526},
  {x:1977, y: 9441},
  {x:1978, y: 10508},
  {x:1979, y: 11869},
  {x:1980, y: 13380},
  {x:1981, y: 14640},
  {x:1982, y: 15740},
  {x:1983, y: 17260},
  {x:1984, y: 19132},
  {x:1985, y: 20722},
  {x:1986, y: 22437},
  {x:1987, y: 24273},
  {x:1988, y: 26799},
  {x:1989, y: 29427},
  {x:1990, y: 32534},
  {x:1991, y: 34357},
  {x:1992, y: 36129},
  {x:1993, y: 36732},
  {x:1994, y: 37395},
  {x:1995, y: 37763},
  {x:1996, y: 38125},
  {x:1997, y: 39064},
  {x:1998, y: 37627},
  {x:1999, y: 39177},
  {x:2000, y: 41247},
  {x:2001, y: 42789},
  {x:2002, y: 45185},
  {x:2003, y: 48559},
  {x:2004, y: 53306},
  {x:2005, y: 58123},
  {x:2006, y: 61684},
  {x:2007, y: 64967},
  {x:2008, y: 66728},
  {x:2009, y: 65275},
  {x:2010, y: 67740},
  {x:2011, y: 70058},
  {x:2012, y: 72653},
  {x:2013, y: 75095},
  {x:2014, y: 77379}
]

data = [
  { "x" => 1940, "y" => 14.7 },
  { "x" => 1941, "y" => 15.5 }, 
  { "x" => 1942, "y" => 17.6 },
  { "x" => 1943, "y" => 18.9 }, 
  { "x" => 1944, "y" => 19.2 }, 
  { "x" => 1945, "y" => 19.7 }, 
  { "x" => 1946, "y" => 21.0 }, 
  { "x" => 1947, "y" => 24.4 },
  { "x" => 1948, "y" => 25.7 },
  { "x" => 1949, "y" => 25.2 }, 
  { "x" => 1950, "y" => 24.3 },
  { "x" => 1951, "y" => 25.7 },
  { "x" => 1952, "y" => 26.5 },
  { "x" => 1953, "y" => 26.7 },
  { "x" => 1954, "y" => 26.9 },
  { "x" => 1955, "y" => 27.3 },
  { "x" => 1956, "y" => 27.7 },
  { "x" => 1957, "y" => 28.6 },
  { "x" => 1958, "y" => 30.0 },
  { "x" => 1959, "y" => 30.5 },
  { "x" => 1960, "y" => 31.3 },
  { "x" => 1961, "y" => 32.1 },
  { "x" => 1962, "y" => 32.8 },
  { "x" => 1963, "y" => 33.5 },
  { "x" => 1964, "y" => 33.7 },
  { "x" => 1965, "y" => 34.4 },
  { "x" => 1966, "y" => 35.3 },
  { "x" => 1967, "y" => 36.3 },
  { "x" => 1968, "y" => 37.7 },
  { "x" => 1969, "y" => 39.4 },
  { "x" => 1970, "y" => 41.5 },
  { "x" => 1971, "y" => 43.2 },
  { "x" => 1972, "y" => 44.6 },
  { "x" => 1973, "y" => 46.6 },
  { "x" => 1974, "y" => 51.5 },
  { "x" => 1975, "y" => 56.3 },
  { "x" => 1976, "y" => 59.1 },
  { "x" => 1977, "y" => 62.1 },
  { "x" => 1978, "y" => 66.9 },
  { "x" => 1979, "y" => 74.3 },
  { "x" => 1980, "y" => 83.0 },
  { "x" => 1981, "y" => 91.7 },
  { "x" => 1982, "y" => 97.2 },
  { "x" => 1983, "y" => 99.3 },
  { "x" => 1984, "y" => 103.5 }, 
  { "x" => 1985, "y" => 106.8 }, 
  { "x" => 1986, "y" => 109.4 },
  { "x" => 1987, "y" => 114.9 }, 
  { "x" => 1988, "y" => 121.7 }, 
  { "x" => 1989, "y" => 128.7 }, 
  { "x" => 1990, "y" => 138.1 }, 
  { "x" => 1991, "y" => 148.0 },
  { "x" => 1992, "y" => 155.1 }, 
  { "x" => 1993, "y" => 160.1 },
  { "x" => 1994, "y" => 164.5 },
  { "x" => 1995, "y" => 168.1 }, 
  { "x" => 1996, "y" => 170.7 }, 
  { "x" => 1997, "y" => 171.9 },
  { "x" => 1998, "y" => 171.5 },
  { "x" => 1999, "y" => 173.3 },
  { "x" => 2000, "y" => 176.3 },
  { "x" => 2001, "y" => 178.4 },
  { "x" => 2002, "y" => 180.3 },
  { "x" => 2003, "y" => 184.5 },
  { "x" => 2004, "y" => 190.6 },
  { "x" => 2005, "y" => 197.8 },
  { "x" => 2006, "y" => 201.6 },
  { "x" => 2007, "y" => 219.5 },
  { "x" => 2008, "y" => 228.9 },
  { "x" => 2009, "y" => 230.0 },
  { "x" => 2010, "y" => 234.9 },
  { "x" => 2011, "y" => 243.6 },
  { "x" => 2012, "y" => 249.5 },
  { "x" => 2013, "y" => 233.0 },
  { "x" => 2014, "y" => 257.6 }
]

pie_data = [
  { label: "Hello world", value: 16},
  { label: "Testing", value: 34 },
]

graphite = [
  {
    target: "stats_counts.http.ok",
    datapoints: [[10, 1378449600], [40, 1378452000], [53, 1378454400], [63, 1378456800], [27, 1378459200]]
  },
  {
    target: "stats_counts.http.err",
    datapoints: [[0, 1378449600], [4, 1378452000], [nil, 1378454400], [3, 1378456800], [0, 1378459200]]
  }
]

# points = [{x:1, y: 4}, {x:2, y:27}, {x:3, y:6}]


SCHEDULER = Dashing.scheduler

Dashing.scheduler.every '2s' do
  last_valuation = current_valuation
  current_valuation = rand(1000)

  Dashing.send_event('valuation', { current: current_valuation, last: last_valuation })
  Dashing.send_event('synergy',   { value: rand(100) })
end

# Dashing.send_event('buzzwords', { value: "whatever"})
# Dashing.send_event('cpi', {points: data})
#Dashing.send_event('bookmarks_frequency', {value: pie_data})
Dashing.send_event('rickshawgraph', {points: data})
#Dashing.send_event('rickshawgraph', {points: per_capita_gdp})
